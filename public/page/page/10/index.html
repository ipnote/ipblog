<!DOCTYPE html>
<html lang="en" dir="auto" data-theme="light">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Pages | 実務者のための知財法務</title>
<meta name="keywords" content="">
<meta name="description" content="Pages - 実務者のための知財法務">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/page/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.9c2c03e3e67e6900d759abc6d1d0aa3ae5e463bd751452dbcb434e4f4772b977.css" integrity="sha256-nCwD4&#43;Z&#43;aQDXWavG0dCqOuXkY711FFLby0NOT0dyuXc=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="http://localhost:1313/page/index.xml" title="rss">
<link rel="alternate" hreflang="en" href="http://localhost:1313/page/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    }

</script>
</head>
<body class="list" id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="実務者のための知財法務 (Alt + H)">実務者のための知財法務</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/about/" title="About">
                    <span>About</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header"><div class="breadcrumbs"><a href="http://localhost:1313/">Home</a></div>
  <h1>
    Pages
  </h1>
</header>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">欧州特許制度特有の手続き
    </h2>
  </header>
  <div class="entry-content">
    <p> 欧州特許（EP特許）には、他国には無い独自の制度がある。
出願時から権利化後に至るまで、実務に関係する制度として、例えば以下のものが挙げられる。
[バリデーション手続き（Validation）](#バリデーション手続きValidation) * [手続き](#手続き) * [費用](#費用) &lt;/li&gt; &lt;li&gt;[統一特許（UP：Unitary Patent）](#統一特許UPUnitary-Patent) * [手続き](#手続き-1) * [費用](#費用-1) * [UPを選ぶべき？](#UPを選ぶべき) &lt;/li&gt; &lt;li&gt;[オプトアウト](#オプトアウト) * [オプトアウトの対象となる特許](#オプトアウトの対象となる特許) * [手続き](#手続き-2) * [オプトアウトの期限](#オプトアウトの期限) * [オプトアウトするべき？](#オプトアウトするべき) &lt;/li&gt; &lt;li&gt;[License of Right（LOR）](#License-of-RightLOR) * [年金の割引](#年金の割引) * [誰でもライセンスを受けられる](#誰でもライセンスを受けられる) * [特許権者のメリット・デメリット](#特許権者のメリットデメリット) * [LORの適用国の例](#LORの適用国の例) * [LORまとめ](#LORまとめ) &lt;/li&gt; * [まとめ](#まとめ) これらについて、制度の概要を説明したい。
バリデーション手続き（Validation） EP特許が付与された後、特許権を特定の国で有効化するための手続きを指す。
EP特許は自動的にすべての加盟国で有効になるわけではなく、特許権者が指定した国ごとにValidationする必要がある。
手続き 各国特許庁に対して、EP特許の付与公告から3月以内に、以下の手続をする。
当該庁に対する手数料の支払い 当該国における代理人の指定 クレーム及び明細書について当該国における公用語翻訳文の提出 費用 上記の手続を各国に行うため、Validationは高額な手続という印象が強い。
しかしながら、ロンドン協定により、特にEPOの公用語を自国の公用語とする国では、クレーム及び明細書の公用語翻訳文提出が免除されており、また庁手数料の支払いや国内代理人指定の要件までもが免除されている場合もある（英、仏、独など）。
よって、現在では主要3国では相当に金銭的負担が軽減されているといえる。
統一特許（UP：Unitary Patent） EP特許を有効化するには、ValidationのほかUP申請を行うという方法もある。
UPは、欧州特許庁（EPO）で付与された特許を、一括でEU加盟国の一部（現在17カ国）で効力を持たせる仕組みである。
手続き UPを選択する場合は、Validationとは異なり特許付与日から１月以内に申請する必要がある。
UPCA発効日から6年（＋最大6年延長）の移行期間に限り、申請と同時に明細書・クレーム全文の翻訳文（*）を提出する必要がある。
この翻訳文には法的効力は無いものの機械翻訳は禁止されている。
*手続き言語が英語→他のEU公用語（ドイツ語など）への翻訳文。手続き言語が独語または仏語である場合→英語への翻訳文。
費用 EPOに対する申請手数料は無料である。
一方、年金がそれなりに高額となる。
UPを選ぶべき？ メリット
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-04-14 00:00:00 +0000 UTC'>April 14, 2025</span>&nbsp;·&nbsp;<span>1 min</span>&nbsp;·&nbsp;<span>ip-note</span></footer>
  <a class="entry-link" aria-label="post link to 欧州特許制度特有の手続き" href="http://localhost:1313/page/post/2025/05/24/221323/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">【Blogger】ブログ記事への表の挿入
    </h2>
  </header>
  <div class="entry-content">
    <p>この記事は移転しました。約2秒後に新記事へ移動します。移動しない場合はココをクリックしてください。
</p>
  </div>
  <footer class="entry-footer"><span title='2025-04-13 00:00:00 +0000 UTC'>April 13, 2025</span>&nbsp;·&nbsp;<span>1 min</span>&nbsp;·&nbsp;<span>ip-note</span></footer>
  <a class="entry-link" aria-label="post link to 【Blogger】ブログ記事への表の挿入" href="http://localhost:1313/page/post/2025/05/25/154853/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">漫画『将太の寿司』柏手の安レビュー
    </h2>
  </header>
  <div class="entry-content">
    <p>この記事は移転しました。約2秒後に新記事へ移動します。移動しない場合はココをクリックしてください。
</p>
  </div>
  <footer class="entry-footer"><span title='2025-04-13 00:00:00 +0000 UTC'>April 13, 2025</span>&nbsp;·&nbsp;<span>1 min</span>&nbsp;·&nbsp;<span>ip-note</span></footer>
  <a class="entry-link" aria-label="post link to 漫画『将太の寿司』柏手の安レビュー" href="http://localhost:1313/page/post/2025/05/25/112735/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">ファミコン『ドラえもん』レビュー
    </h2>
  </header>
  <div class="entry-content">
    <p>この記事は移転しました。約2秒後に新記事へ移動します。移動しない場合はココをクリックしてください。
</p>
  </div>
  <footer class="entry-footer"><span title='2025-04-12 00:00:00 +0000 UTC'>April 12, 2025</span>&nbsp;·&nbsp;<span>1 min</span>&nbsp;·&nbsp;<span>ip-note</span></footer>
  <a class="entry-link" aria-label="post link to ファミコン『ドラえもん』レビュー" href="http://localhost:1313/page/post/2025/05/25/095918/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">進歩性における「容易の容易」とは
    </h2>
  </header>
  <div class="entry-content">
    <p>実務を行っていると、特許出願が一発で特許査定となることは稀であり、大抵は新規性、進歩性、記載要件違反を理由にした拒絶理由が通知される。
中でも進歩性違反は代表的な拒絶理由であると思うが、複数の引例・周知技術が適用されている場合、いわゆる「容易の容易」にあたらないか？と思ったことがある。
しかし、実際にその理由で反論を試みた経験に乏しい。
拒絶理由通知への対応で役立つ事があるかもしれないので、「容易の容易」についてまとめておきたい。
容易の容易とは？ 「容易の容易」という用語は審査基準には無いが、「主引用発明に、２つの副引用発明を直列的に適用すること」とされている。
※副引用発明は周知技術等であっても良い
例えば、以下のような発明・引例があるとする。
本発明：Ａ＋Ｂ＋Ｃ 主引例：Ａ 副引例１：Ｂ 副引例２：Ｃ 主引例に副引例１を適用し（Ａ＋Ｂ）、さらに別の副引例２（Ｃ）を適用する場合において、Ａ＋Ｂの構成からはＣを適用するための課題を認識できるものの、Ａのみからではその課題を認識できないのであれば、副引例２を適用することは容易ではない、という場合が当てはまる。
ここで、一例を考えてみたい。
例えば、椅子にキャスターを付けると椅子を動かしやすくなる一方、椅子に人が座ったときにキャスターが動くと危険なので、人が座る（荷重が加わる）とキャスターがロックされる椅子を発明したとする。
その発明に対し、以下のような引例が存在した場合はどうなるか。
本発明：荷重が加わるとロックするキャスター付きの椅子
主引例：椅子 副引例１：キャスター付きの机 副引例２：荷重が加わるとキャスターをロックするストッパー（高荷重時のキャスター移動による床の傷付き防止） 家具を楽に移動させるため、主引例に副引例１を組み合わせてキャスター付きの椅子を構成するのは容易であると考えられる。
しかし、主引例１にはキャスターを設けることは開示されていないのだから、キャスターを付けたときに発生する課題（高荷重時のキャスター移動による床の傷付き）を解決する手段となる副引例２の構成を適用することは容易ではない、という判断になるかと思われる。
※副引例１を主引例として考えると、副引例２とを組み合わせ、更に、机の構成を椅子に置き換えるのは容易相当、というロジックで攻められる可能性は否定できない
一方、「主引用発明に、２つの副引用発明を並列的に適用する」場合は「容易の容易」とは異なり、普通に進歩性違反となる。
例えば、以下の例である。
本発明：リクライニング機能を有するキャスター付き椅子
主引例：椅子 副引例１：キャスター付きの机 副引例２：リクライニング機能付きベッド この場合は、椅子に対して並列的に二つの変更を加えているだけなので、「容易の容易」には当たらず、組み合わせに困難性が増すということはない。
ただし、「容易の容易」だから進歩性があるとは限らない。
自明な課題を取り上げていたり、「単なる設計変更」と言われる程度の設計的事項の変更を２段階行っただけでは、いくら特許出願人が「容易の容易」であると主張しても、進歩性が認められない。
実務で活用できそう？ いわゆる「容易の容易」であることから進歩性が認められた判例もあるが、その数は多くない。
また、上述のように「容易の容易」だからといって、必ずしも進歩性が認められるとは限らないことから、中間対応時に活用できる場面はそれほど多くないかもしれない。
とはいえ、複数の引例を組み合わせて発明に想到しようとすると、そのロジックには矛盾が生じる可能性が高くなるはずである。
ここは基本となる進歩性の審査基準に則り、技術分野の関連性、課題の共通性、機能・作用の共通性、発明に対する示唆といった動機づけの有無を確認するとともに、組み合わせに阻害要因が無いか、本発明に顕著な効果が無いかを確認することが基本となるだろう。
</p>
  </div>
  <footer class="entry-footer"><span title='2025-04-11 00:00:00 +0000 UTC'>April 11, 2025</span>&nbsp;·&nbsp;<span>1 min</span>&nbsp;·&nbsp;<span>ip-note</span></footer>
  <a class="entry-link" aria-label="post link to 進歩性における「容易の容易」とは" href="http://localhost:1313/page/post/2025/05/24/203555/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">請負と準委任との違い
    </h2>
  </header>
  <div class="entry-content">
    <p> 基本的に、開発委託契約の契約形態は、「請負」と「準委任」とに分かれる。
いずれも業務を外部に依頼する契約形態だが、契約の目的・成果・責任範囲などに大きな違いがある。
実務上は請負と準委任との相違を個別契約の中で修正したり、請負・準委任と明記しない契約書とすることも珍しくないが、まずは契約形態の基本として、両者の差異及び留意点について、備忘録として書き留めておきたい。
* [１番の違い（成果物の有無）](#１番の違い成果物の有無) [報酬金額の提示方法](#報酬金額の提示方法) * [請負の場合](#請負の場合) * [準委任の場合](#準委任の場合) &lt;/li&gt; &lt;li&gt;[請負でも報酬を定額で出しづらい場合](#請負でも報酬を定額で出しづらい場合) * [段階的に定める](#段階的に定める) * [準委任契約との組み合わせ](#準委任契約との組み合わせ) * [変動型の報酬規定（上限付き実費精算型）](#変動型の報酬規定上限付き実費精算型) &lt;/li&gt; * [補足](#補足) * [請負と準委任の対比表](#請負と準委任の対比表) １番の違い（成果物の有無） 請負と準委任の最大の違いは、「成果物の納品義務があるかどうか」に尽きる。
請負契約では、成果物の完成と引き渡しが契約の目的になるため、納品しなければ報酬は発生しない。たとえば「Webアプリを開発して納品する」といった場合、その完成責任を負うのが請負となる。
一方、準委任契約は業務そのものの遂行が目的である。
作業の成果が形として残るかどうかは問題ではなく、作業した事実に対して報酬が発生する。
極端にいえば、アウトプットがゼロでも「やるべき業務を行っていれば」報酬は発生する。
つまり、「納品すること」が報酬の前提となるかどうか——そこが請負と準委任を分ける最大のポイントとなる。
報酬金額の提示方法 請負、準委任ともに委託契約ではあるものの、その報酬金額の提示方法は異なることが通常である。
請負の場合 基本的には総額（定額）で提示するのが望ましい。
請負契約は、「特定の成果物の完成・納品」が契約の目的であり、その成果物に対して対価が支払われる契約である。
そのため、納品された成果物に対して「いくら払うか」が明確であるべきであり、総額で定めることが原則的に妥当となる。
請負契約では、原則として発注者は進行状況にかかわらず成果物さえ完成すればよく、途中の進行や工数は関係ない。
工数や単価で記載すると、準委任のような性質になってしまい、契約形態と整合しなくなる。
ただし、契約書とは別に見積書や内訳書の中で、人月単価・工数を参考情報として提示することはある。
これにより、以下のようなメリットがある。
発注者が価格の妥当性を判断しやすい 追加開発や変更対応時の追加費用の計算基準になる それでも、契約書本体には「総額」を記載し、単価・工数は参考情報扱いに留めるべきである。
準委任の場合 準委任は「成果物の完成」ではなく「一定期間の業務を遂行すること」が契約目的となる。したがって、報酬もその稼働に対して支払うのが自然である。
すなわち、「この業務に何時間／何日かかったか」に基づいて、報酬を決定する必要がある。
精算方法としては、実際の作業時間（実働）に基づいて精算する「実費精算型」が一般的。
これにより、月次での稼働報告・精算処理がしやすくなる。
仮に総額で記載してしまうと、稼働量が増減した場合に報酬調整ができず不便となる。
請負でも報酬を定額で出しづらい場合 請負契約型でありながら、工数の見積もりが困難で定額の報酬金額を提示しづらい場合には、例えば以下のような記載方法が考えられる。
段階的に定める 開発工程をフェーズ（要件定義・基本設計・詳細設計・実装・テストなど）に分け、各段階ごとに報酬を設定する方法である。
記載例： 「本契約に基づく報酬は以下の通りとする。 第1フェーズ（要件定義完了時）：○○万円 第2フェーズ（基本設計完了時）：○○万円 … 最終納品完了時：○○万円」
フェーズごとに仕様確定と見積の見直しができるようにしておくと、柔軟に対応可能となる。
準委任契約との組み合わせ 請負での最終成果物納品を前提にしつつ、要件定義や設計の初期フェーズは準委任契約（時間単価契約）として扱う方法も考えられる。
記載例：
「要件定義フェーズについては準委任契約とし、作業時間に応じた報酬を支払うものとする。 以後、要件が確定した時点で、請負契約として開発に着手し、別途定める金額を報酬とする。」
最初の段階では柔軟性が高く、要件が固まってから請負契約に移行できるのが利点。
変動型の報酬規定（上限付き実費精算型） 定額ではなく、実際の作業時間・人員に応じた報酬とするが、上限金額を設けることで発注者のリスクを軽減する方法。
記載例：
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-04-09 00:00:00 +0000 UTC'>April 9, 2025</span>&nbsp;·&nbsp;<span>1 min</span>&nbsp;·&nbsp;<span>ip-note</span></footer>
  <a class="entry-link" aria-label="post link to 請負と準委任との違い" href="http://localhost:1313/page/post/2025/05/24/202346/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">コードブロックにコピーボタンを配置
    </h2>
  </header>
  <div class="entry-content">
    <p>この記事は移転しました。約2秒後に新記事へ移動します。移動しない場合はココをクリックしてください。
</p>
  </div>
  <footer class="entry-footer"><span title='2025-04-08 00:00:00 +0000 UTC'>April 8, 2025</span>&nbsp;·&nbsp;<span>1 min</span>&nbsp;·&nbsp;<span>ip-note</span></footer>
  <a class="entry-link" aria-label="post link to コードブロックにコピーボタンを配置" href="http://localhost:1313/page/post/2025/05/22/015307/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">ブログ記事へのソースコードの埋め込み
    </h2>
  </header>
  <div class="entry-content">
    <p>この記事は移転しました。約2秒後に新記事へ移動します。移動しない場合はココをクリックしてください。
</p>
  </div>
  <footer class="entry-footer"><span title='2025-04-08 00:00:00 +0000 UTC'>April 8, 2025</span>&nbsp;·&nbsp;<span>1 min</span>&nbsp;·&nbsp;<span>ip-note</span></footer>
  <a class="entry-link" aria-label="post link to ブログ記事へのソースコードの埋め込み" href="http://localhost:1313/page/post/2025/05/22/065310/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">【Blogger】見出しデザインのカスタマイズ
    </h2>
  </header>
  <div class="entry-content">
    <p>この記事は移転しました。約2秒後に新記事へ移動します。移動しない場合はココをクリックしてください。
</p>
  </div>
  <footer class="entry-footer"><span title='2025-04-06 00:00:00 +0000 UTC'>April 6, 2025</span>&nbsp;·&nbsp;<span>1 min</span>&nbsp;·&nbsp;<span>ip-note</span></footer>
  <a class="entry-link" aria-label="post link to 【Blogger】見出しデザインのカスタマイズ" href="http://localhost:1313/page/post/2025/05/25/152708/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">漫画『課長 島耕作』レビュー
    </h2>
  </header>
  <div class="entry-content">
    <p>この記事は移転しました。約2秒後に新記事へ移動します。移動しない場合はココをクリックしてください。
</p>
  </div>
  <footer class="entry-footer"><span title='2025-04-05 00:00:00 +0000 UTC'>April 5, 2025</span>&nbsp;·&nbsp;<span>1 min</span>&nbsp;·&nbsp;<span>ip-note</span></footer>
  <a class="entry-link" aria-label="post link to 漫画『課長 島耕作』レビュー" href="http://localhost:1313/page/post/2025/05/25/071203/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="http://localhost:1313/page/page/9/">
      «&nbsp;Prev&nbsp;
    </a>
    <a class="next" href="http://localhost:1313/page/page/11/">Next&nbsp;&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/">実務者のための知財法務</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a><footer class="footer">
    <span>
        <a href="https://forms.gle/nEdcyw1FDb2HKvqi6" rel="noopener noreferrer" target="_blank">Contact</a>&nbsp;
        <a href="/privacy" rel="noopener noreferrer" target="_blank">Privacy policy</a>
    </span>
</footer>

<script>
    let menu = document.getElementById('menu');
    if (menu) {
        
        const scrollPosition = localStorage.getItem("menu-scroll-position");
        if (scrollPosition) {
            menu.scrollLeft = parseInt(scrollPosition, 10);
        }
        
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
